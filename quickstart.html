<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="en"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="en"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="en"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="en"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">	
	<title>openBarter</title>	
	<meta name="title" content="openBarter">
	<meta name="description" content="barter market place">
	<meta name="google-site-verification" content="">
	<meta name="author" content="Olivier Chaussavoine">
	<meta name="Copyright" content="Copyright Olivier Chaussavoine 2011. All Rights Reserved.">
	<meta name="DC.title" content="openBarter">
	<meta name="DC.subject" content="barter market place.">
	<meta name="DC.creator" content="Olivier Chaussavoine.">
	<link rel="shortcut icon" href="static/img/favicon.ico">	 
	<link rel="apple-touch-icon" href="static/img/apple-touch-icon.png">
	<link rel="stylesheet" href="static/css/style.css">
	<script src="static/js/modernizr-1.7.min.js"></script>

</head>

<body>

<div>
<h1>openBarter quick start</h1>
<h2>Build</h2>
<p>Follow installation of postgres 9.1 from sources, and untar sources into the <tt>contrib</tt> directory:</p>
<div class="content"><pre>
<tt>$ wget https://github.com/olivierch/openBarter/tarball/v0.2.2</tt>
<tt>$ tar -xvzf v0.2.2</tt>
<tt>$ mv olivierch-openBarter-ffbe856 contrib/openBarter</tt>
</pre></div>
<p>Build the extension openBarter:</p>
<div class="content"><pre>
<tt>$ cd contrib/openBarter/src</tt>
<tt>$ make</tt>
<tt>$ make install</tt>
</pre></div>
<p>The extension is now built in postgres. You could verify test units are running with the following command:</p>
<div class="content"><pre>
<tt>$ make installcheck</tt>
</pre></div>
<p>This will perform test units of openBarter.</p>
<p>Instead of downloading, you can instead clone the extension. Go to the <tt>contrib</tt> directory of the source tree of postgres:<p>
<div class="content"><pre>
<tt>$ cd contrib</tt><tt>$ git clone -b master git@github.com:olivierch/openBarter.git</tt>
</pre></div>
<p>Likewise, it will create the directory <tt>contrib/openBarter</tt>.</p>
<h2>Installation</h2>
<p>Create a database and connect to it with a special user that will be the owner of the model and should not be used later. The extension does not depend of any database name or schema name. For illustration, we choosed <tt>dbob</tt> for the name of the database, and <tt>actor</tt> for the new user that will be allowed to use the extension.</p>
<div class="content"><pre>
<tt>dbob# \i sql/model.sql</tt>
<tt>dbob# CREATE ROLE actor WITH LOGIN;</tt>
<tt>dbob# GRANT market TO actor;</tt>
</pre></div>
<p>These commands create the extension <tt>flow</tt>, the model and a special role <tt>market</tt>. functions and tables can be displayed with the commands <tt>\df</tt> and <tt>\dt</tt>.</p>
<h2>Usage</h2>
<p>Reconnect to <tt>dbob</tt> with the user <tt>actor</tt>:</p>
<div class="content"><pre>
<tt>$ psql -ddbob -Uactor</tt>
</pre></div>
<h3>Add to or remove a resource from an account</h3>
<div class="content"><pre>
<tt>SELECT ob_fadd_account('luc','Iron',100);</tt>
<tt>SELECT * from ob_vowned;</tt>
</pre></div>






<footer>
		
<p><small>&copy; Copyright Olivier Chaussavoine 2011. All Rights Reserved.</small></p>
<a href='https://www.ohloh.net/accounts/126827?ref=Tiny'>
<img alt='Ohloh profile for olchaussavoine' height='15' src='https://www.ohloh.net/accounts/126827/widgets/account_tiny.gif' width='80' /></a>
</footer>

</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script>window.jQuery || document.write("<script src='static/js/jquery-1.5.1.min.js'>\x3C/script>")</script>

<!-- this is where we put our custom functions -->
<script src="static/js/functions.js"></script>

<!-- Asynchronous google analytics; this is the official snippet.
	 Replace UA-XXXXXX-XX with your site's ID and uncomment to enable.
-->	 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25674768-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
